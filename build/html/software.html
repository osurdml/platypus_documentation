

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setup and launch of the sami-crw software &mdash; Platypus Lutra 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Platypus Lutra 1.0 documentation" href="index.html"/>
        <link rel="next" title="Sensors on the Platypus Lutra" href="sensors.html"/>
        <link rel="prev" title="Welcome to Platypus Lutra’s documentation!" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Platypus Lutra
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Setup and launch of the sami-crw software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-software">Installing the Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-boat">Starting the boat</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launching-the-sami-crw-software-and-connecting-the-boat">Launching the Sami-Crw software and Connecting the Boat</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-the-boat-firmware">Updating the Boat Firmware</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sensors.html">Sensors on the Platypus Lutra</a></li>
<li class="toctree-l1"><a class="reference internal" href="rosjava.html">Implementation of ROS Java on the Sami-Crw Software</a><ul>
<li class="toctree-l2"><a class="reference internal" href="rosjava.html#installing-rosjava">Installing ROSJava</a></li>
<li class="toctree-l2"><a class="reference internal" href="rosjava.html#importing-packages-into-netbeans">Importing Packages into Netbeans</a></li>
<li class="toctree-l2"><a class="reference internal" href="rosjava.html#test-the-rosjava-coupled-sami-crw-software">Test the ROSJava coupled Sami-crw software</a></li>
<li class="toctree-l2"><a class="reference internal" href="rosjava.html#python-code">Python Code</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Platypus Lutra</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Setup and launch of the sami-crw software</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/software.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="setup-and-launch-of-the-sami-crw-software">
<h1>Setup and launch of the sami-crw software<a class="headerlink" href="#setup-and-launch-of-the-sami-crw-software" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-the-software">
<h2>Installing the Software<a class="headerlink" href="#installing-the-software" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download sami-core and sami-dreaam from the github repositories</p>
<div class="highlight-python"><div class="highlight"><pre>$ git clone https://github.com/nbbrooks/sami-core.git
$ git clone https://github.com/nbbrooks/sami-dreaam.git
$ git clone https://github.com/nrjl/sami-crw.git
</pre></div>
</div>
</li>
<li><p class="first">Install the latest version of Netbeans  and Java 1.8.  You can get Netbeans and Java as a bundle from Oracle (this will ensure automatically you will be running the 1.8 JDK with Netbeans): <a class="reference external" href="http://www.oracle.com/technetwork/articles/javase/jdk-netbeans-jsp-142931.html">http://www.oracle.com/technetwork/articles/javase/jdk-netbeans-jsp-142931.html</a></p>
</li>
<li><p class="first">Add all three projects to Netbeans NOTE: You will need to copy and rename the “nbproject-template” folder in each the sami-core, sami-dreaam, and sami-crw folders to get these to work as projects in Netbeans. Copy the “nbproject-template” folder into each of these files home directories and rename it “nbproject”</p>
</li>
<li><p class="first">Make sure that Netbeans is using Java 1.8. The sami-dreaam project will not compile with an earlier version of the JDK!</p>
</li>
<li><p class="first">To be safe build the sami-core project first Then build the sami-dreaam project then the sami-crw (sami-crw is dependent upon the other two projects)</p>
</li>
<li><p class="first">Run the sami-crw from Netbeans to launch the application</p>
</li>
</ol>
<blockquote>
<div><p>Make sure the run setup is as follows:</p>
<ul class="simple">
<li>Main class:    sami.ui.MissionMonitor</li>
<li>VM options:   -Djava.util.logging.config.file=&#8221;logging.properties&#8221; -Djava.library.path=lib/input</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To change the &#8216;run&#8217; setup of the program in Netbeans, select the sami-crw project on the main projects window, right click and select &#8216;Properties.&#8217; This will open a new dialogue box. On the menu in this box, select &#8216;Run.&#8217; Use the above parameters to configure the run setup.</p>
</div>
</div>
<div class="section" id="starting-the-boat">
<h2>Starting the boat<a class="headerlink" href="#starting-the-boat" title="Permalink to this headline">¶</a></h2>
<p>First make sure you have successfully turned on the boat, connected the phone, and are able to get GPS, following the procedure for boat startup:</p>
<ol class="arabic simple">
<li>Plug in the battery, minimum voltage is 9V</li>
<li>Press the white button, the some lights should turn on and the board will beep a couple of times</li>
<li>Ensure phone is connected to correct wifi network, then start <code class="docutils literal"><span class="pre">OSU</span> <span class="pre">Lutra</span></code> app</li>
<li>Click &#8220;off&#8221; which turns it &#8220;on&#8221;</li>
<li>Note phone UDP: 10.214.152.186:11411 (this IP corresponds to the robotics network, the IP will vary depending upon the shared network)</li>
<li>Test thrust with debug button and thrust slider</li>
<li>Test GPS lock by operating Google Maps</li>
<li>Close up electronics Bay – get ready for deployment</li>
</ol>
</div>
<div class="section" id="launching-the-sami-crw-software-and-connecting-the-boat">
<h2>Launching the Sami-Crw software and Connecting the Boat<a class="headerlink" href="#launching-the-sami-crw-software-and-connecting-the-boat" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When running the software from Netbeans for the first time, you will be prompted to select a .drm file. By default this .drm file is located in the sami-crw/plans folder. Navigate to this folder and select the .drm file.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Again when running the software for the first time if the OperatorInteractionFrame does not load initially, in the Mission Monitor window, select Load Domain. You will be prompted to select a .dcf file. Navigate to sami-crw/config and select the current version’s crw.dcf file.</p>
</div>
<p>Once the software is launched from Netbeans, you should see 8 frames open. You can use the FrameManager to save the desired placement of these frames. The 8 frames are: OperatorInteractionFrame, MapFrame, AllocationFrame, CommFrame, Mission Monitor, Message Frame, InterruptFrame.</p>
<p>On the Mission Monitor Frame there are a list of actions to perform. Scroll to find the ConnectBoat.</p>
<p>Select ConnectBoat and hit the Run button.</p>
<p>Now the OperatorInteractionFrame should update to display three options: server, color, name. Fill in the server form box with the UDP from the phone. This is found in the Nexus app and is the smaller IP text, with 11411 at the end. Include the full UDP address! Also, give it a name, as it is easier to recognize later in the CommFrame. I have been naming my boats, intuitively, “boat”. When finished, hit the Done button in the OperatorInteractionFrame.</p>
<p>Now the Message Frame should display that the boat is connected and the CommFrame should also update to a green box with the word “boat” inside (or whatever word you chose to name the boat)</p>
<p>Double click on name (ie “boat”) in the CommFrame to get the Teleop Path, Point buttons activated on the map.</p>
<p>Select the Teleop button.  A menu option should now display in the Map Frame with a options for gains on the right side and a red graphic on the left. The red dot controls the motors. Dragging it up will thrust both motors. Dragging it left or right will activate the right and left motors respectively (as seen from the stern), acting as a rudder.</p>
</div>
<div class="section" id="updating-the-boat-firmware">
<h2>Updating the Boat Firmware<a class="headerlink" href="#updating-the-boat-firmware" title="Permalink to this headline">¶</a></h2>
<p>The following guide from the manufacturer is the process for restoring or updating the boat firmware:</p>
<p>See <a class="reference download internal" href="_downloads/PlatypusArduinoFirmwareUpdateGuide.pdf"><code class="xref download docutils literal"><span class="pre">this</span> <span class="pre">guide</span></code></a>.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sensors.html" class="btn btn-neutral float-right" title="Sensors on the Platypus Lutra" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Welcome to Platypus Lutra’s documentation!" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, RDML.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>